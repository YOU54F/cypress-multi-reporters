language: node_js
node_js:
- node
- lts/*
- '8'
- '7'
- '6'
os:
- linux
matrix:
  fast_finish: true
cache: yarn
env:
  global:
  - secure: AwXSS77AHxvNYAlLW9A5nytnG5ZZ8Xgxu7r1YRh8d54d6dDiu5eGIEYGtSIvp1fpRtTcgczyCLov6EoyK0WmF8PFD7VEE8xz9EBOFG6bVhXKFli8U29Y4OQ2XDkASYsrRrgaGHiRWEDPCBfVgubNp2YIkxyfPxzfpeqLeidCIzMsKXzJeJnEV/is3mv+hBgYgtbOtx9vAc8f4sEsiHG8Hc/IhG+b/BRevj0yaAup6JmOtRTok3WOIVNnx5c3beVmZJalkJK0/N8C4pPOqghL+XkLYw8xZPhH7vEGorS5ZADCX8mi7WgNTneGSrrIwU66kQb1qvTOKXH88OrTecRkaiKcWNbwrodb5ZRqVOqreNa371JAx1pNQXhqLuFAglriEe/J2+5thlO9QlTtVBYVBLE14YjsQF1YHXVZP2wztnpnKQgAi1h55dGfmaaGdwor56+GEEBWZPeo4xb35O/087QqbJdh9XG+SuyXyib9HpaqLRwn6Bl5J/byWuuwYSkKnnzblG1JlCPnZepeKhN2yAY3nk+r5lvLtLFCgnm2Y6VD0wU9AtEjizaoWVBgV0jY576kvp2cOUh9Xhn1DtTHAOdgX0H5HZ8NJPrvNNIuMwKgzz73bTd91VRs7RkBmHnX5jxbCXjgPl+77Tu7Q/9AXE5+Oxo9nPzFIuj3EKX5R0o=
install: yarn install --ignore-engines
script: ./scripts/build.sh
after_success:
- cat artifacts/coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js
before_deploy:
- npm prune --production
- tar -czvf cypress-multi-reporters.tar.gz package.json index.js lib/* config.json LICENSE README.md CHANGELOG.md
- npm run deploy:prepare
deploy:
  - provider: releases
    api_key:
    secure: YlZkFy8FBs7zzTbsRuP+rW4vpB5ui9prDvS/XqouDjdOb2k35z1z0pu3UBk298zCGklKqh4MGEt15jFRilEM4YogSGloswnlQKnviR92JyP8nqKN1yaO/BRTlW6+xyYhpjm5ZjJinMBtfwWKSPWe1SmHSLLxkaZo/MmuXLxTiNYqJs9jtrTCj/TDtFOCTDc0mprm97QaET+LuG+PmzG1JXEcbsNVBa+YW5MUqOD9BPAbbiGJb/r+BlCGreNUwyvvnMAnvefVUlRDw7l+hwbPwhRts3+nfAM2dH6vPcLFgb7VomsFUPTXAwOObX3thubptFtcxlNgPwpAbncIboqQkFUbeLc8I2hQyp9oxkxJnrN8KodB1vGTujWHzAn1+Xml1XZ6RgCLawdfwqDADaqpUT4zaBbKrGXrc0EZ3kF0c+QsCl+BZOa5AVKJOEm/KJX2/kRtatG8cI7RDjo5icOwhyXGKsrrnjMIrZWKhNDnbExPZxy17oevQYX7+YT489UqrSytmMZwmPVZ+uQJEmQiny3racJoT7VESL3UAMDhEdP+WBlmp5DRW7aLnOMLRO/d6SDkAUg2ykN1Pwjt6jfGTaNVfULSzGGtFFkna//kw01Bq3511W60A9Uafrae0SM7l6azTfw/tYGh3l/48W8eVq8pF5Sz06bLysyObDC5Xo8=
    file: cypress-multi-reporters.tar.gz
    skip_cleanup: true
    on:
      tags: true
      repo: YOU54F/cypress-multi-reporters
      branch: master
      node: "8"
  - provider: script
    skip_cleanup: true
    script: ./scripts/publish.sh
    on:
      tags: true
      branch: master
      node: "8"